<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Cash Manager</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
</head>
<body class="bg-light">
  <a href="http://localhost:3000/export" class="btn btn-success m-3">Export CSV</a>

  <div class="container mt-4">
    <h2 class="mb-4 text-center">Cash Manager</h2>

   <!-- Entry Form -->
<form id="entryForm" class="row g-3 align-items-end">
  <div class="col-md-2">
    <input type="date" id="date" class="form-control" required />
  </div>
  <div class="col-md-2">
    <input type="text" id="head" class="form-control" list="headOptions" placeholder="Head" required />
    <datalist id="headOptions"></datalist>
  </div>
  <div class="col-md-2">
    <input type="number" step="0.01" id="cashIn" class="form-control" placeholder="Cash In" />
  </div>
  <div class="col-md-2">
    <input type="number" step="0.01" id="cashOut" class="form-control" placeholder="Cash Out" />
  </div>
  <div class="col-md-2">
    <select id="transactionType" class="form-select" required>
      <option value="" disabled selected>Select Type</option>
      <option value="Cash">Cash</option>
      <option value="Credit">Credit</option>
      <option value="Debit">Debit</option>
    </select>
  </div>

  <!-- ✅ Current Balance in same column above Notes -->
  <div class="col-md-2">
    <div class="mb-1">
      <strong class="text-success" style="font-size: 1.25rem;">Balance: ₹<span id="balance">0.00</span></strong>
    </div>
    <input type="text" id="notes" class="form-control" placeholder="Notes" />
  </div>

  <div class="col-md-2 offset-md-10">
    <button type="submit" class="btn btn-primary w-100">Enter</button>
  </div>
</form>


    <!-- Filters Section -->
    <div class="row mt-4">
      <!-- Month Filter -->
<div class="col-md-3">
  <label for="filterMonth" class="form-label">Filter by Month</label>
  <input type="month" id="filterMonth" class="form-control" />
</div>

      <div class="col-md-3">
        <label for="filterHead" class="form-label">Filter by Head</label>
        <select id="filterHead" class="form-select">
          <option value="">All</option>
        </select>
      </div>
      <div class="col-md-3 d-flex align-items-end">
        <button class="btn btn-secondary w-100" onclick="applyFilters()">Apply Filters</button>
      </div>
      <div class="col-md-3 d-flex align-items-end">
        <button class="btn btn-outline-secondary w-100" onclick="resetFilters()">Reset</button>
      </div>
    </div>

    <!-- Balance Display -->
    <div class="mt-4">
      <h5>Current Balance: ₹<span id="balance">0.00</span></h5>
      <h6>Total Cash In: ₹<span id="totalIn">0.00</span></h6>
      <h6>Total Cash Out: ₹<span id="totalOut">0.00</span></h6>

    </div>

    <!-- Entries Table -->
    <table class="table table-bordered table-striped mt-3">
      <thead class="table-dark">
        <tr>
          <th>Date</th>
          <th>Head</th>
          <th>Cash In</th>
          <th>Cash Out</th>
          <th>Balance</th>
          <th>Transaction Type</th>
          <th>Notes</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody id="tableBody">
        <!-- Entries will be loaded here -->
      </tbody>
    </table>
  </div>

  <script src="/app.js"></script>
</body>
</html>
